{"version":3,"sources":["components/LightBox.js","components/TiledGallery.js","components/ErrorBoundary.js","App.js","constants.js","reportWebVitals.js","index.js"],"names":["LightBox","closeLighBox","showPrev","currentImage","showNext","url","images","className","onClick","src","alt","style","position","top","left","fontSize","right","TiledGallery","galleryError","useState","displayLightbox","setDisplayLightbox","setCurrentImage","getCurrentImageIndex","currentImageId","id","findIndex","image","map","username","openLighbox","transitionName","transitionEnterTimeout","transitionLeaveTimeout","currentIndex","length","ErrorBoundary","props","state","error","errorInfo","this","setState","children","React","Component","App","setImages","setGalleryError","loading","setLoading","loadAllImages","a","g_img","Promise","resolve","reject","img","Image","onload","onerror","promises","all","useEffect","fetch","URLSearchParams","api_key","limit","then","res","ok","Error","json","giphyData","data","catch","message","Provider","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9e8abd1.chunk.js","sourcesContent":["import React from \"react\";\nimport { MdChevronLeft, MdChevronRight, MdClose } from \"react-icons/md\";\nconst LightBox = ({ closeLighBox, showPrev, currentImage, showNext }) => {\n  const url = currentImage.images[\"480w_still\"].url;\n  return (\n    <div className=\"lightbox-wrapper\">\n      <div className=\"lightbox-backdrop\" onClick={closeLighBox} />\n      <div className=\"lightbox-content\">\n        <img src={url} alt=\"images 1\" />\n        <MdChevronLeft\n          onClick={showPrev}\n          style={{\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"0%\",\n            fontSize: \"44px\",\n          }}\n        />\n        <MdChevronRight\n          onClick={showNext}\n          style={{\n            position: \"absolute\",\n            top: \"50%\",\n            right: \"0%\",\n            fontSize: \"44px\",\n          }}\n        />\n        <MdClose\n          onClick={closeLighBox}\n          style={{ position: \"absolute\", top: \"0%\", right: \"0%\" }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default LightBox;\n","import React, { useState } from \"react\";\nimport LightBox from \"./LightBox\";\nimport ReactCSSTransitionGroup from \"react-addons-css-transition-group\";\nconst TiledGallery = ({ images, galleryError }) => {\n  const [displayLightbox, setDisplayLightbox] = useState(false);\n  const [currentImage, setCurrentImage] = useState();\n  const openLighbox = (image) => {\n    setDisplayLightbox(true);\n    setCurrentImage(image);\n  };\n  const closeLighBox = () => {\n    setDisplayLightbox(false);\n  };\n\n  const getCurrentImageIndex = () => {\n    const currentImageId = currentImage.id;\n    return images.findIndex((image) => image.id === currentImageId);\n  };\n\n  const showNext = () => {\n    const currentIndex = getCurrentImageIndex();\n    if (currentIndex === images.length - 1) {\n      // that is if last index then show 1st image\n      setCurrentImage(images[0]);\n    } else {\n      setCurrentImage(images[currentIndex + 1]);\n    }\n  };\n\n  const showPrev = () => {\n    const currentIndex = getCurrentImageIndex();\n    if (currentIndex === 0) {\n      // that is if first index then show last image\n      setCurrentImage(images[images.length - 1]);\n    } else {\n      setCurrentImage(images[currentIndex - 1]);\n    }\n  };\n  return (\n    <div>\n      {galleryError ? (\n        <p>{galleryError}</p>\n      ) : (\n        <>\n          <div className=\"gallery-container\">\n            {images.map((image) => {\n              const url = image.images[\"480w_still\"].url;\n              return (\n                <div className=\"gallery-image-wrapper\" key={image.id}>\n                  <img\n                    src={url}\n                    alt={image.username}\n                    onClick={() => openLighbox(image)}\n                  />\n                </div>\n              );\n            })}\n          </div>\n          <ReactCSSTransitionGroup\n            transitionName=\"lightbox\"\n            transitionEnterTimeout={500}\n            transitionLeaveTimeout={300}\n          >\n            {displayLightbox && (\n              <LightBox\n                closeLighBox={closeLighBox}\n                currentImage={currentImage}\n                showPrev={showPrev}\n                showNext={showNext}\n              />\n            )}\n          </ReactCSSTransitionGroup>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default TiledGallery;\n","import React from \"react\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Catch errors in any components below and re-render with error message\n    this.setState({\n      error: error,\n      errorInfo: errorInfo,\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      // Error path\n      return (\n        <div>\n          <h2>Something went wrong.</h2>\n        </div>\n      );\n    }\n    // Normally, just render children\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import \"./App.scss\";\nimport { useState, useEffect } from \"react\";\nimport { GIPHY_SECRET_KEY } from \"./constants.js\";\nimport TiledGallery from \"./components/TiledGallery\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport { IconContext } from \"react-icons\";\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [galleryError, setGalleryError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const loadAllImages = async (images) => {\n    // wait for all images to load\n    const promises = await images.map((g_img) => {\n      return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.src = g_img.images[\"480w_still\"].url;\n        img.onload = () => {\n          resolve();\n        };\n        img.onerror = () => {\n          reject();\n        };\n      });\n    });\n    await Promise.all(promises);\n    // at this point all images are loaded\n    setImages(images);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetch(\n      \"https://api.giphy.com/v1/gifs/trending?\" +\n        new URLSearchParams({\n          api_key: GIPHY_SECRET_KEY,\n          limit: 25,\n        })\n    )\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"Something went wrong!\");\n        }\n        return res.json();\n      })\n      .then((giphyData) => loadAllImages(giphyData.data))\n      .catch((error) => {\n        setGalleryError(error.message);\n      });\n  }, []);\n  return (\n    <div className=\"App\">\n      <IconContext.Provider value={{ className: \"react-icons\" }}>\n        <h2>Giphy Gallery App</h2>\n        <ErrorBoundary>\n          {loading ? (\n            \"loading...\"\n          ) : (\n            <TiledGallery galleryError={galleryError} images={images} />\n          )}\n        </ErrorBoundary>\n      </IconContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","export const GIPHY_SECRET_KEY = \"Th5Bly2ozUREaMpGZSFNTqs2VDV0QZx9\";\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}